replicaCount: 1

image:
  repository: jcloudcodes/django-starts-jupiters-ig
  tag: "43"
  pullPolicy: IfNotPresent

containerPort: 8000

env:
  DJANGO_SETTINGS_MODULE: "nasa_world.settings"
  DJANGO_DEBUG: "1"

config:
  allowedHosts: "django.jcloudcodes.com,localhost,127.0.0.1"

ingress:
  enabled: true
  className: nginx
  host: django.jcloudcodes.com
  path: /
  annotations:
    nginx.ingress.kubernetes.io/proxy-body-size: "20m"
    nginx.ingress.kubernetes.io/proxy-read-timeout: "300"
    nginx.ingress.kubernetes.io/proxy-send-timeout: "300"

service:
  type: ClusterIP
  port: 8000

# üîê Secrets (used by templates/secret.yaml)
secret:
  djangoSecretKey: "change-me"        # move to ExternalSecret/SealedSecret later
  dbPassword: "baba12345@"
  postgresPassword: "baba12345@"

postgres:
  enabled: true

  image:
    repository: postgres
    tag: "15-alpine"
    pullPolicy: IfNotPresent

  service:
    port: 5432

  auth:
    database: django
    username: django
    # password comes from Secret (POSTGRES_PASSWORD)

  persistence:
    enabled: true
    size: 10Gi
    storageClass: standard-rwo
    # ‚úÖ critical fix for GKE PVC (lost+found issue)
    pgdata: /var/lib/postgresql/data/pgdata
